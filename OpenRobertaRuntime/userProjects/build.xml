<?xml version="1.0" encoding="ISO-8859-1"?>
<project name="${program.name}" basedir="." default="jar">

    <path id="ev3.classes">    
        <fileset dir="${ev3classes.lib}">
            <include name="*.jar"/>
        </fileset>
    </path>
	
    <!--path id="hal">    
        <fileset dir="${hal.lib}">
            <include name="*.jar"/>
        </fileset>
    </path-->


    <target name="clean" description="delete old files">
        <delete dir="${output.dir}"/>
    </target>

    <target name="compile" description="build class files" depends="clean">
        <mkdir dir="${output.dir}"/>
        <javac srcdir="${input.dir}" destdir="${output.dir}" fork="yes" debug="true" debuglevel="lines,vars,source">
            <classpath refid="ev3.classes"/>
        	<!--classpath refid="hal"/-->
        </javac>
    </target>

    <target name="jar" depends="compile">
        <jar destfile="${program.jar}" basedir="${output.dir}">
            <manifest>
                <attribute name="Main-Class" value="${main.name}"/>
                <attribute name="Class-Path" value="${lejos.home}/lib/ev3classes.jar ${lejos.home}/lib/dbusjava.jar ${lejos.home}/libjna/usr/share/java/jna.jar /home/roberta/hal.jar"/>
            </manifest>
        </jar>  
    </target>
</project>